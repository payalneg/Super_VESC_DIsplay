# VESC Dashboard Implementation

Реализация дашборда для VESC контроллера на базе LVGL для ESP32 с дисплеем 320x240.

## Описание

Дашборд воспроизводит интерфейс как на предоставленном изображении и включает следующие элементы:

### Верхняя панель статуса
- Два синих индикатора подключения
- Версия прошивки (v1.02)
- Напряжение батареи (53.2 V)
- Версия прошивки ESC (ESC FW: 6.2) - зеленым цветом
- Процент заряда батареи (92 %)

### Основная область
- **CURRENT A** - текущий ток (желтая подпись, белые цифры)
- **SPEED** - скорость в центре (голубые крупные цифры)
- **POWER W** - мощность (желтая подпись, белые цифры)
- **KMH** - подпись единиц измерения скорости
- **Время** - текущее время (00:15:03) голубым цветом
- **Передача** - зеленый прямоугольник с номером передачи (3)
- **RTV** - метка серым цветом
- **Батарея** - вертикальная зеленая полоса справа

### Нижняя панель
- **ESC °C** - температура ESC (32°)
- **MOTOR** - температура мотора (29°)
- **TRIP KM** - пройденное расстояние (0.0 км)
- **RANGE** - запас хода с иконкой обновления

## Файлы

- `src/LVGL_Dashboard.h` - заголовочный файл с объявлениями
- `src/LVGL_Dashboard.cpp` - основная реализация дашборда
- `src/LVGL_Driver.cpp` - модифицирован для интеграции дашборда
- `lv_conf.h` - обновлена конфигурация шрифтов

## Конфигурация шрифтов

Включены все шрифты Montserrat от 8 до 48 размера для корректного отображения всех элементов интерфейса.

## Структура данных

```c
typedef struct {
    float voltage;        // Напряжение батареи
    int current_a;        // Ток в амперах
    int power_w;          // Мощность в ваттах
    int speed_kmh;        // Скорость в км/ч
    int esc_temp;         // Температура ESC
    int motor_temp;       // Температура мотора
    float trip_km;        // Пройденное расстояние
    int range_km;         // Запас хода
    int battery_percent;  // Процент заряда батареи
    int gear;             // Передача
    char time_str[16];    // Время в строковом формате
    char fw_version[8];   // Версия прошивки
    char esc_fw[8];       // Версия прошивки ESC
} dashboard_data_t;
```

## Использование

1. Дашборд автоматически создается при инициализации LVGL
2. Данные обновляются каждые 100мс через `dashboard_update_values()`
3. Для демонстрации включена имитация изменения значений
4. Для использования с реальными данными замените заглушки в `dashboard_data` на реальные значения от VESC

## Интеграция с реальными данными

Для подключения реальных данных VESC:

1. Замените заглушки в структуре `dashboard_data` на функции чтения данных от VESC
2. Обновите функцию `dashboard_update_values()` для получения актуальных данных
3. Добавьте обработку ошибок и проверку соединения с VESC

## Цветовая схема

- Фон: черный (#000000)
- Основной текст: белый (#FFFFFF)  
- Заголовки: желтый (#FFFF00)
- Скорость и время: голубой (#87CEEB)
- ESC FW и батарея: зеленый (#00FF00)
- Индикаторы: голубой (#00BFFF)
- Неактивные элементы: серый (#808080)

## Разрешение экрана

Дашборд оптимизирован для разрешения 320x240 пикселей.


